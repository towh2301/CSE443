@using LibraryManagement.Data
@using Microsoft.EntityFrameworkCore
@{
    Layout = "_Layout";
    
    // Get the DB context from services
    var dbContext = Context.RequestServices.GetService<ApplicationDbContext>();
    
    // Get categories for the layout
    if (dbContext != null)
    {
        ViewBag.Categories = await dbContext.Category.ToListAsync();
    }
}
